(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/addressManage"],{"3f16":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(a("e600"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(){return a.e("components/uni-pop").then(a.bind(null,"ae22"))},o="",c="",r="",h="",d={components:{uniPopup:n},data:function(){return{provinceData:s.default,cityData:[],areaData:[],selectList:[{txt:"请选择"},{txt:"请选择"},{txt:"请选择"}],tabOne:"请选择",indexTab:0,proviceShow:!0,areaShow:!1,cityShow:!1,show:!1,type:"",checkOne:null,checkTwo:null,checkThree:null,addressData:{id:"",nickname:"",phone:"",addressName:"点击选择省/直辖市",address:"",isDefault:!1,postcode:""}}},onLoad:function(e){h=t.getStorageSync("token");var a="新增收货地址";"edit"===e.type&&(a="编辑收货地址",this.loadAdrDetail(e.data)),this.manageType=e.type,t.setNavigationBarTitle({title:a})},methods:{switchChange:function(t){this.addressData.default=t.detail.value},chooseLocation:function(){var e=this;t.chooseLocation({success:function(t){e.addressData.addressName=t.name,e.addressData.address=t.name}})},confirm:function(){var e=this,a=this.addressData;if(a.nickname)if(/(^1[3|4|5|7|8][0-9]{9}$)/.test(a.phone))if(a.address)if(a.postcode)if(r&&c&&o){t.request({url:this.$url+"/user/address/add",data:{address:a.address,area:r,city:c,province:o,nickname:a.nickname,phone:a.phone,postcode:a.postcode,isDefault:a.isDefault},method:"POST",header:{"content-type":"application/json",token:h},success:function(a){console.log(a.data),200==a.data.code&&(e.$api.msg("添加成功"),t.navigateBack({}))}})}else this.$api.msg("请选择省市区");else this.$api.msg("请输入邮政编码");else this.$api.msg("请输入地址");else this.$api.msg("请输入正确的手机号码");else this.$api.msg("请填写收货人姓名")},loadAdrDetail:function(e){var a=this;t.request({url:this.$url+"/user/address/detail/"+e,data:{},method:"POST",header:{"content-type":"application/json",token:h},success:function(t){console.log(t.data),a.addressData=t.data.data,o=a.addressData.province,c=a.addressData.city,r=a.addressData.area,a.selectList=[{txt:o},{txt:c},{txt:r}]}})},togglePopup:function(t,e){this.type=t,"tip"===e?this.show=!0:this.$refs[e].open()},cancel:function(t){"tip"!==t?this.$refs[t].close():this.show=!1},change:function(e){1==e.show?t.hideTabBar():t.showTabBar()},tabEvent:function(t){this.indexTab=t,0==this.indexTab?(this.proviceShow=!0,this.cityShow=!1,this.areaShow=!1,this.checkTwo=null,this.checkThree=null,this.areaData=[],this.selectList[1].txt="请选择",this.selectList[2].txt="请选择"):1==this.indexTab?(this.proviceShow=!1,this.cityShow=!0,this.areaShow=!1,this.checkThree=null,this.selectList[2].txt="请选择"):2==this.indexTab&&(this.proviceShow=!1,this.cityShow=!1,this.areaShow=!0)},provinceEvent:function(t,e){this.checkOne=e,this.selectList[0].txt=t.name,this.indexTab=1,this.proviceShow=!1,this.cityShow=!0,this.areaShow=!1,this.cityData=t.cityList,o=t.name},cityEvent:function(t,e){this.checkTwo=e,this.selectList[1].txt=t.name,this.indexTab=2,this.proviceShow=!1,this.cityShow=!1,this.areaShow=!0,this.areaData=t.areaList,c=t.name},areaEvent:function(t,e){this.checkThree=e,this.selectList[2].txt=t.name,r=t.name,this.cancel("popup")}}};e.default=d}).call(this,a("543d")["default"])},4493:function(t,e,a){"use strict";(function(t){a("8040"),a("921b");s(a("66fd"));var e=s(a("eb50"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"69df":function(t,e,a){},7652:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return i})},bb66:function(t,e,a){"use strict";a.r(e);var s=a("3f16"),i=a.n(s);for(var n in s)"default"!==n&&function(t){a.d(e,t,function(){return s[t]})}(n);e["default"]=i.a},cd1a:function(t,e,a){"use strict";var s=a("69df"),i=a.n(s);i.a},eb50:function(t,e,a){"use strict";a.r(e);var s=a("7652"),i=a("bb66");for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a("cd1a");var o=a("2877"),c=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=c.exports}},[["4493","common/runtime","common/vendor"]]]);