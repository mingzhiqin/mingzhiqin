(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"2d45":function(e,n,o){"use strict";var t=function(){var e=this,n=e.$createElement;e._self._c},a=[];o.d(n,"a",function(){return t}),o.d(n,"b",function(){return a})},"415f":function(e,n,o){"use strict";(function(e){o("8040"),o("921b");t(o("66fd"));var n=t(o("5284"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("543d")["createPage"])},5284:function(e,n,o){"use strict";o.r(n);var t=o("2d45"),a=o("8b71");for(var s in a)"default"!==s&&function(e){o.d(n,e,function(){return a[e]})}(s);o("9fb1");var c=o("2877"),r=Object(c["a"])(a["default"],t["a"],t["b"],!1,null,null,null);n["default"]=r.exports},6596:function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t(o("46c3"));function t(e){return e&&e.__esModule?e:{default:e}}var a="",s="",c="",r=function(){return o.e("components/uni-pop").then(o.bind(null,"ae22"))},l={components:{uniPop:r},data:function(){return{isShow1:!1,isShow2:!0,SessionKey:"",OpenId:"",nickName:null,avatarUrl:null,isCanUse:e.getStorageSync("isCanUse")||!0}},methods:{wxGetUserInfo:function(n){var o=this;console.log("___________"),e.getUserInfo({provider:"weixin",success:function(n){console.log("______成功_____"),o.isShow2=!1,o.isShow1=!0,console.log(o.isShow2),console.log(o.isShow1);try{e.setStorageSync("isCanUse",!1)}catch(t){}},fail:function(e){console.log("______失败_____"),console.log(e)}})},login:function(){var n=this;e.login({provider:"weixin",success:function(o){console.log("登录。111。。。"),console.log(o),a=o.code,console.log("登录。222。。。"),e.getUserInfo({provider:"weixin",success:function(e){console.log("登录。。。。"),console.log(e);e.userInfo.nickName,e.userInfo.avatarUrl;n.updateUserInfo(e)}})}})},updateUserInfo:function(n){var o=this;console.log("info.userInfo");var t={avatar:n.userInfo.avatarUrl,encryptedData:s,iv:c,nickname:n.userInfo.nickName,sex:n.userInfo.gender};console.log(t),console.log(a),e.request({url:this.$url+"/user/login",data:{inviteId:"2c934332703c275e01703d7754f00001",userInfo:t,wxCode:a},method:"POST",header:{"content-type":"application/json"},success:function(n){console.log("邀请登录"),console.log(n.data),"SUCCESS"==n.data.result&&(e.setStorageSync("token",n.data.data),o.loadUser(n.data.data))}})},loadUser:function(n){var o=this;console.log("token"),console.log(n);e.request({url:this.$url+"/user/userInfo",data:{},method:"POST",header:{"content-type":"application/json",token:n},success:function(n){console.log(n.data),200==n.data.code&&(e.setStorageSync(o.$userKey,n.data.data),e.navigateBack({}))}})},getPhoneNumber:function(e){var n=this;console.log(e),"getPhoneNumber:ok"==e.detail.errMsg&&(s=e.detail.encryptedData,c=e.detail.iv,n.login())}}};n.default=l}).call(this,o("543d")["default"])},"8b71":function(e,n,o){"use strict";o.r(n);var t=o("6596"),a=o.n(t);for(var s in t)"default"!==s&&function(e){o.d(n,e,function(){return t[e]})}(s);n["default"]=a.a},"8d50":function(e,n,o){},"9fb1":function(e,n,o){"use strict";var t=o("8d50"),a=o.n(t);a.a}},[["415f","common/runtime","common/vendor"]]]);