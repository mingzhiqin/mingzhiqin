<view class="content"><view class="navbar"><block wx:for="{{navList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['tabClick',[index]]]]]}}" class="{{['nav-item',(tabCurrentIndex===index)?'current':'']}}" bindtap="__e">{{''+item.text+''}}</view></block></view><swiper class="swiper-box" current="{{tabCurrentIndex}}" duration="300" data-event-opts="{{[['change',[['changeTab',['$event']]]]]}}" bindchange="__e"><block wx:for="{{navList}}" wx:for-item="tabItem" wx:for-index="tabIndex" wx:key="tabIndex"><swiper-item class="tab-content"><scroll-view class="list-scroll-content" scroll-y data-event-opts="{{[['scrolltolower',[['loadData',['$event']]]]]}}" bindscrolltolower="__e"><block wx:if="{{tabItem.loaded===true&&tabItem.orderList.length===0}}"><empty vue-id="{{'1-'+tabIndex}}" bind:__l="__l"></empty></block><block wx:for="{{tabItem.orderList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="order-item"><view class="i-top b-b"><text class="time">{{"订单时间："+item.createTime}}</text><block wx:if="{{item.orderStatus==='WAITING'}}"><text class="state">待支付</text></block><block wx:if="{{item.orderStatus==='PAID'}}"><text class="state">待发货</text></block><block wx:if="{{item.orderStatus==='RECEIPT'}}"><text class="state">待收货</text></block><block wx:if="{{item.orderStatus==='OVER'}}"><text class="state">已完成</text></block><block wx:if="{{item.orderStatus==='CANCELED'}}"><text class="state">已取消</text></block></view><block wx:if="{{item.goods.length>1}}"><scroll-view class="goods-box" scroll-x><block wx:for="{{item.goods}}" wx:for-item="goodsItem" wx:for-index="goodsIndex" wx:key="goodsIndex"><view class="goods-item"><image class="goods-img" src="{{goodsItem.coverImg}}" mode="aspectFill"></image></view></block></scroll-view></block><block wx:for="{{item.goods}}" wx:for-item="goodsItem" wx:for-index="goodsIndex" wx:key="goodsIndex"><block wx:if="{{item.goods.length===1}}"><view class="goods-box-single"><image class="goods-img" src="{{goodsItem.coverImg}}" mode="aspectFill"></image><view class="right"><text class="title clamp">{{goodsItem.name}}</text><text class="attr-box">{{goodsItem.desc+''}}</text><view class="viewNum"><view class="viewPrice"><text class="price">{{goodsItem.price}}</text><text class="priceYuan">{{goodsItem.cost}}</text></view><text>{{"x "+goodsItem.number}}</text></view></view></view></block></block><view class="price-box">共<text class="num">{{item.number}}</text>件商品 总金额<text class="price">{{item.price}}</text></view><block wx:if="{{item.orderStatus==='WAITING'}}"><view class="action-box b-t"><button data-event-opts="{{[['tap',[['cancelOrder',['$0'],[[['navList','',tabIndex],['orderList','',index,'id']]]]]]]}}" class="action-btn" bindtap="__e">取消订单</button><button data-event-opts="{{[['tap',[['payOrder',['$0'],[[['navList','',tabIndex],['orderList','',index,'id']]]]]]]}}" class="action-btn recom" bindtap="__e">去支付</button></view></block><block wx:if="{{item.orderStatus==='PAID'}}"><view class="action-box b-t"><button data-event-opts="{{[['tap',[['cancelOrder',['$0'],[[['navList','',tabIndex],['orderList','',index,'id']]]]]]]}}" class="action-btn" bindtap="__e">取消订单</button></view></block><block wx:if="{{item.orderStatus==='RECEIPT'}}"><view class="action-box b-t"><button data-event-opts="{{[['tap',[['sureOrder',['$0'],[[['navList','',tabIndex],['orderList','',index]]]]]]]}}" class="action-btn" bindtap="__e">确认收货</button></view></block><block wx:if="{{item.orderStatus==='CANCELED'}}"><view class="action-box b-t"><button data-event-opts="{{[['tap',[['deleteOrder',['$0'],[[['navList','',tabIndex],['orderList','',index,'id']]]]]]]}}" class="action-btn" bindtap="__e">删除订单</button></view></block></view></block></scroll-view></swiper-item></block></swiper></view>